<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Multiplication Worksheet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for better aesthetics */
        body {
            font-family: 'Inter', sans-serif;
        }
        .correct {
            border-color: #22c55e; /* green-500 */
            background-color: #f0fdf4; /* green-50 */
        }
        .incorrect {
            border-color: #ef4444; /* red-500 */
            background-color: #fef2f2; /* red-50 */
        }
        .feedback-icon {
            font-size: 1.2rem;
            font-weight: bold;
            visibility: hidden; /* Hidden by default */
        }
        .correct-icon {
            color: #22c55e;
            visibility: visible;
        }
        .incorrect-icon {
            color: #ef4444;
            visibility: visible;
        }
        /* Style for number input arrows */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance: textfield;
        }

        @media print {
            body {
                background-color: #fff;
                color: #000;
                font-family: sans-serif;
            }

            .no-print {
                display: none !important;
            }
            
            .container {
                width: 100%;
                margin: 0;
                padding: 0;
            }

            #worksheet-container {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 1.5rem;
            }

            .bg-white { /* Card style reset for print */
                box-shadow: none !important;
                border: 1px solid #ccc !important;
                padding: 10px;
            }

            h2 {
                font-size: 1.2rem;
                margin-bottom: 1rem;
            }

            input[type=number] {
                border: none;
                border-bottom: 1px solid #333;
                border-radius: 0;
                background-color: transparent !important;
                color: #000 !important;
            }

            .feedback-icon {
                display: none !important;
            }
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto px-4 py-8">
        <header class="text-center mb-8 no-print">
            <h1 class="text-4xl font-bold text-slate-900">Multiplication Practice</h1>
            <p class="text-slate-600 mt-2">Type your answers in the boxes and check your work!</p>
        </header>

        <div id="worksheet-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <!-- Times tables will be generated by JavaScript here -->
        </div>

        <footer class="mt-10 text-center no-print">
            <div class="flex justify-center items-center gap-4">
                <button id="check-button" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105">
                    Check Answers
                </button>
                <button id="reset-button" class="bg-slate-600 hover:bg-slate-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105">
                    Try Again
                </button>
                <button id="print-button" class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105">
                    Print Worksheet
                </button>
            </div>
            <div id="score-container" class="mt-6 text-2xl font-semibold text-slate-700 h-8">
                <!-- Score will be displayed here -->
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const worksheetContainer = document.getElementById('worksheet-container');
            const checkButton = document.getElementById('check-button');
            const resetButton = document.getElementById('reset-button');
            const scoreContainer = document.getElementById('score-container');
            const printButton = document.getElementById('print-button');

            // --- Generate the worksheet ---
            function generateWorksheet() {
                // Clear any existing content
                worksheetContainer.innerHTML = '';

                for (let i = 1; i <= 12; i++) {
                    // Create a card for each times table
                    const tableCard = document.createElement('div');
                    tableCard.className = 'bg-white p-5 rounded-xl shadow-sm border border-slate-200';

                    // Create the title for the card
                    const tableTitle = document.createElement('h2');
                    tableTitle.className = 'text-xl font-semibold mb-4 text-center text-slate-700';
                    tableTitle.textContent = `${i} Times Table`;
                    tableCard.appendChild(tableTitle);
                    
                    const problemsContainer = document.createElement('div');
                    problemsContainer.className = 'space-y-2';

                    for (let j = 1; j <= 12; j++) {
                        const correctAnswer = i * j;
                        
                        // Create a row for each problem
                        const problemRow = document.createElement('div');
                        problemRow.className = 'flex items-center justify-between text-lg';

                        // The problem text (e.g., "1 x 1 =")
                        const problemLabel = document.createElement('label');
                        problemLabel.className = 'text-slate-600';
                        problemLabel.textContent = `${i} \u00D7 ${j} =`; // Using the multiplication symbol

                        // The input field for the answer
                        const answerInput = document.createElement('input');
                        answerInput.type = 'number';
                        answerInput.className = 'w-20 text-center border-2 border-slate-300 rounded-md py-1 transition-all duration-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500';
                        answerInput.dataset.correctAnswer = correctAnswer;

                        // The icon for feedback (tick or cross)
                        const feedbackIcon = document.createElement('span');
                        feedbackIcon.className = 'feedback-icon w-6 text-center'; // Fixed width for alignment

                        problemRow.appendChild(problemLabel);
                        problemRow.appendChild(answerInput);
                        problemRow.appendChild(feedbackIcon);
                        problemsContainer.appendChild(problemRow);
                    }

                    tableCard.appendChild(problemsContainer);
                    worksheetContainer.appendChild(tableCard);
                }
            }
            
            // --- Check the answers ---
            checkButton.addEventListener('click', () => {
                const inputs = document.querySelectorAll('#worksheet-container input');
                let correctCount = 0;
                
                inputs.forEach(input => {
                    const userAnswer = input.value;
                    const correctAnswer = input.dataset.correctAnswer;
                    const feedbackIcon = input.nextElementSibling;

                    // Reset classes
                    input.classList.remove('correct', 'incorrect');
                    feedbackIcon.classList.remove('correct-icon', 'incorrect-icon');
                    feedbackIcon.textContent = '';

                    if (userAnswer === '') {
                        // Do nothing if the input is empty
                        return;
                    }

                    if (parseInt(userAnswer, 10) === parseInt(correctAnswer, 10)) {
                        input.classList.add('correct');
                        feedbackIcon.classList.add('correct-icon');
                        feedbackIcon.textContent = '✔';
                        correctCount++;
                    } else {
                        input.classList.add('incorrect');
                        feedbackIcon.classList.add('incorrect-icon');
                        feedbackIcon.textContent = '✖';
                    }
                });

                // Display the score
                const totalQuestions = inputs.length;
                scoreContainer.textContent = `You got ${correctCount} out of ${totalQuestions} correct!`;
            });

            // --- Reset the worksheet ---
            resetButton.addEventListener('click', () => {
                const inputs = document.querySelectorAll('#worksheet-container input');
                inputs.forEach(input => {
                    input.value = '';
                    input.classList.remove('correct', 'incorrect');
                    const feedbackIcon = input.nextElementSibling;
                    feedbackIcon.classList.remove('correct-icon', 'incorrect-icon');
                    feedbackIcon.textContent = '';
                });
                scoreContainer.textContent = '';
            });

            printButton.addEventListener('click', () => {
                window.print();
            });
            
            // Initial generation of the worksheet on page load
            generateWorksheet();
        });
    </script>
</body>
</html>

